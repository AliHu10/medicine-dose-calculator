<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Oxcarbazepine (Trileptal) 60mg/mL Dose Calculator</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #e0f7fa;
            margin: 0;
            padding: 20px;
        }
        .container {
            max-width: 800px;
            margin: auto;
            background-color: #ffffff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        h1 {
            font-size: 30px; /* 6 points larger */
            font-weight: bold;
            text-align: center;
        }
        .drug-name {
            color: navy;
            margin-bottom: 0;
        }
        .drug-strength {
            color: darkorange;
            margin-top: 0;
        }
        .dose-calculator {
            color: black;
            margin-top: 0;
            font-size: 24px;
        }
        .drug-image {
            width: 100%;
            max-width: 200px;
            display: block;
            margin: 20px auto;
            border-radius: 8px;
        }
        .converter-box, .bottle-calculator-section {
            margin: 20px auto;
            padding: 20px;
            border: 1px solid #004d40;
            border-radius: 8px;
            background-color: #b2dfdb;
            max-width: 600px;
            text-align: center;
        }
        .converter-box input[type="number"], .bottle-calculator-section input[type="number"] {
            width: 100px;
            padding: 10px;
            border: 1px solid #004d40;
            border-radius: 4px;
            background-color: #e0f7fa;
            color: #004d40;
            display: inline-block;
            margin: 0 10px;
        }
        .converter-box button, .bottle-calculator-section button {
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            background-color: #00796b;
            color: #ffffff;
            cursor: pointer;
            display: block;
            margin: 10px auto;
        }
        .converter-box button:hover, .bottle-calculator-section button:hover {
            background-color: #004d40;
        }
        .result {
            margin: 20px auto;
            padding: 10px;
            border-radius: 4px;
            background-color: #ffffff;
            color: #004d40;
            max-width: 600px;
            text-align: center;
        }
        .result span {
            font-weight: bold;
            color: red;
        }
        .highlight {
            font-weight: bold;
            color: blue;
        }
        .input-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 10px 0;
        }
        .input-row label {
            font-weight: bold;
            margin-right: 10px;
        }
        .input-row input {
            flex: 1;
        }
        .input-row span {
            margin-left: 10px;
            font-weight: bold;
        }
        .box-wrapper {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .dosing-box {
            margin: 20px 0;
            padding: 20px;
            border: 1px solid #004d40;
            border-radius: 8px;
            background-color: #e0f7fa;
        }
        .collapsible {
            background-color: #00796b;
            color: white;
            cursor: pointer;
            padding: 10px;
            width: 100%;
            border: none;
            text-align: left;
            outline: none;
            font-size: 18px;
            font-weight: bold;
        }
        .collapsible:hover {
            background-color: #004d40;
        }
        .content {
            padding: 0 18px;
            display: none;
            overflow: hidden;
            background-color: #ffffff;
            border: 1px solid #00796b;
            border-top: none;
            border-radius: 0 0 8px 8px;
        }
        .content p {
            margin: 10px 0;
            color: black;
        }
        .highlight-red {
            color: red;
        }
        .highlight-blue {
            color: blue;
        }
        .highlight-orange {
            color: orange;
        }
        .highlight-bold {
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 class="drug-name">Oxcarbazepine (Trileptal)</h1>
        <h1 class="drug-strength">60mg/mL Solution</h1>
        <h1 class="dose-calculator">Dose Calculator</h1>
        <img src="file:///Users/mac/Desktop/Medicine-converter/Photos/Trileptal.jpg" alt="Trileptal 60mg/mL Solution" class="drug-image">
        
        <div class="box-wrapper">
            <div class="converter-box">
                <label for="mg-amount" style="font-weight: bold; color: black;">Enter dose in mg:</label>
                <input type="number" id="mg-amount" placeholder="Enter dose in mg">
                <button onclick="convertDose(60, 1)">Calculate mL</button>
                <div id="result" class="result" style="display: none;"></div>
            </div>

            <div class="bottle-calculator-section">
                <div class="input-row">
                    <label for="frequency">Enter frequency (times per day):</label>
                    <input type="number" id="frequency" placeholder="Enter frequency (times per day)">
                    <span>daily</span>
                </div>
                <div class="input-row">
                    <label for="days">Enter number of days:</label>
                    <input type="number" id="days" placeholder="Enter number of days">
                    <span>days</span>
                </div>
                <div class="input-row">
                    <label for="bottle-size">Enter bottle size (mL):</label>
                    <input type="number" id="bottle-size" placeholder="Enter bottle size (mL)">
                    <span>mL</span>
                </div>
                <button onclick="calculateBottles()">Calculate Bottles</button>
                <div id="bottle-result" class="result" style="display: none;"></div>
            </div>
        </div>

        <div id="general-dosing" class="dosing-box">
            <button type="button" class="collapsible">General Dosing</button>
            <div class="content">
                <p><span class="highlight">Oxcarbazepine should be started at a low recommended dose and titrated to a recommended or patient-individualized maintenance dose based on clinical response and tolerability.</span></p>
                <p><span class="highlight-red highlight-bold">Discontinue by tapering dose gradually to mitigate withdrawal seizure risk (unless safety risk requires more abrupt discontinuation).</span></p>
            </div>

            <button type="button" class="collapsible">Adult Dosing</button>
            <div class="content">
                <p class="highlight-blue highlight-bold">Partial-onset seizures</p>
                <p><span class="highlight">Immediate release tablet and suspension</span></p>
                <p class="highlight-red highlight-bold">Adjunctive therapy</p>
                <p><span class="highlight-bold">Initial Dosing:</span> 600 mg/day by mouth, given in BID dosing</p>
                <p>May increase in up to 600 mg/day increments at approximately weekly intervals</p>
                <p class="highlight-bold">Max Recommended Dosing: 1200 mg/day</p>
                <p><span class="highlight-red">Doses above 1200 mg/day showed somewhat greater efficacy in trials, but most patients did not tolerate 2400 mg/day</span></p>
                <p class="highlight-red highlight-bold">Conversion to monotherapy</p>
                <p><span class="highlight-bold">Initial Dosing:</span> 600 mg/day by mouth, given in BID dosing, while simultaneously reducing the dose of concomitant AED(s)</p>
                <p>May increase in up to 600 mg/day increments at approximately weekly intervals</p>
                <p class="highlight-bold">Max Recommended Dosing: 2400 mg/day</p>
                <p>Completely withdraw concomitant AEDs over 3-6 weeks while reaching max oxcarbazepine dose in about 2-4 weeks</p>
                <p class="highlight-red highlight-bold">Initiation of monotherapy (patients not currently taking AEDs)</p>
                <p><span class="highlight-bold">Initial Dosing:</span> 600 mg/day by mouth, given in BID dosing</p>
                <p>Increase in 300 mg/day increments every third day to 1200 mg/day</p>
                <p class="highlight-bold">Max Recommended Dosing: 1200 mg/day</p>
            </div>

            <button type="button" class="collapsible">Paediatric Dosing</button>
            <div class="content">
                <p class="highlight-blue highlight-bold">Partial-onset seizures</p>
                <p><span class="highlight">Immediate release tablet and suspension</span></p>
                <p class="highlight-orange highlight-bold">Adjunctive therapy (2-16 years)</p>
                <p>4-16 years: <span class="highlight-bold">Initial Dosing:</span> 8-10 mg/kg given in BID dosing</p>
                <p><span class="highlight-red">Initial dose should generally not exceed 600 mg/day</span></p>
                <p>Increase to target maintenance dose in 2 weeks</p>
                <p class="highlight-bold">Target Dosing (by weight):</p>
                <p>20-29 kg: 900 mg/day</p>
                <p>29.1-39 kg: 1200 mg/day</p>
                <p>&gt; 39 kg: 1800 mg/day</p>
                <p>2 to &lt; 4 years: <span class="highlight-bold">Initial Dosing:</span> 8-10 mg/kg given in BID dosing</p>
                <p><span class="highlight-red">Initial dose should generally not exceed 600 mg/day</span></p>
                <p>Initial dose of 16-20 mg/kg may be considered for patients under 20 kg</p>
                <p>Increase to maximum maintenance dose over 2-4 weeks</p>
                <p class="highlight-bold">Max Dosing: 60 mg/kg/day in BID dosing</p>
                <p class="highlight-orange highlight-bold">Conversion to monotherapy (4-16 years)</p>
                <p><span class="highlight-bold">Initial Dosing:</span> 8-10 mg/kg/day by mouth, given in BID dosing, while simultaneously reducing the dose of concomitant AED(s)</p>
                <p>May increase in up to 10 mg/kg/day increments at approximately weekly intervals</p>
                <p>Completely withdraw concomitant AEDs over 3-6 weeks</p>
                <p class="highlight-bold">Recommended Dosing:</p>
                <p>20 kg: 600-900 mg/day</p>
                <p>25 kg: 900-1200 mg/day</p>
                <p>30 kg: 900-1200 mg/day</p>
                <p>35 kg: 900-1500 mg/day</p>
                <p>40 kg: 900-1500 mg/day</p>
                <p>45 kg: 1200-1500 mg/day</p>
                <p>50 kg: 1200-1800 mg/day</p>
                <p>55 kg: 1200-1800 mg/day</p>
                <p>60 kg: 1200-2100 mg/day</p>
                <p>65 kg: 1200-2100 mg/day</p>
                <p>70 kg: 1500-2100 mg/day</p>
                <p class="highlight-orange highlight-bold">Initiation of monotherapy (patients not currently taking AEDs) (4-16 years)</p>
                <p><span class="highlight-bold">Initial Dosing:</span> 8-10 mg/kg/day by mouth, given in BID dosing</p>
                <p>Increase in 5 mg/kg/day increments every third day to the recommended daily dose</p>
                <p class="highlight-bold">Recommended Dosing:</p>
                <p>20 kg: 600-900 mg/day</p>
                <p>25 kg: 900-1200 mg/day</p>
                <p>30 kg: 900-1200 mg/day</p>
                <p>35 kg: 900-1500 mg/day</p>
                <p>40 kg: 900-1500 mg/day</p>
                <p>45 kg: 1200-1500 mg/day</p>
                <p>50 kg: 1200-1800 mg/day</p>
                <p>55 kg: 1200-1800 mg/day</p>
                <p>60 kg: 1200-2100 mg/day</p>
                <p>65 kg: 1200-2100 mg/day</p>
                <p>70 kg: 1500-2100 mg/day</p>
            </div>
        </div>
        
        <p><a href="https://dailymed.nlm.nih.gov/dailymed/drugInfo.cfm?setid=4c5c86c8-ab7f-4fcf-bc1b-5a0b1fd0691b">Reference</a></p>
    </div>
    <script>
        function convertDose(mgPerMl, mlPerUnit) {
            const mgAmount = document.getElementById('mg-amount').value;
            const resultElement = document.getElementById('result');

            if (mgAmount) {
                const mLAmount = (mgAmount / mgPerMl) * mlPerUnit;
                resultElement.innerHTML = `<span class="highlight">Each dose in mL:</span> ${mgAmount} mg / ${mgPerMl} mg/mL = <span>${mLAmount.toFixed(2).replace(/\.00$/, '')} mL</span>`;
                resultElement.style.display = 'block';
                return mLAmount;  // Return the mLAmount for further calculations
            } else {
                resultElement.style.display = 'none';
                return 0;  // Return 0 if no value is entered
            }
        }

        function calculateBottles() {
            const frequency = document.getElementById('frequency').value;
            const days = document.getElementById('days').value;
            const bottleSize = document.getElementById('bottle-size').value;
            const mgAmount = document.getElementById('mg-amount').value;
            const mLAmount = convertDose(60, 1);  // Get the mLAmount from the first calculation
            const bottleResultElement = document.getElementById('bottle-result');

            if (frequency && days && bottleSize && mLAmount) {
                const totalDailyDose = mLAmount * frequency;
                const totalMls = totalDailyDose * days;
                const totalBottles = Math.ceil(totalMls / bottleSize);

                bottleResultElement.innerHTML = `<div class="highlight">Total daily dose in mL:</div> ${mLAmount} mL x ${frequency} = <span>${totalDailyDose} mL</span>
                                                 <div class="highlight">Total mL needed:</div> ${totalDailyDose} mL x ${days} = <span>${totalMls} mL</span>
                                                 <div class="highlight">Total bottles needed:</div> ${totalMls} mL / ${bottleSize} mL = <span>${totalBottles} bottles</span>`;
                bottleResultElement.style.display = 'block';
            } else {
                bottleResultElement.style.display = 'none';
            }
        }

        var coll = document.getElementsByClassName("collapsible");
        var i;

        for (i = 0; i < coll.length; i++) {
            coll[i].addEventListener("click", function() {
                this.classList.toggle("active");
                var content = this.nextElementSibling;
                if (content.style.display === "block") {
                    content.style.display = "none";
                } else {
                    content.style.display = "block";
                }
            });
        }
    </script>
</body>
</html>
